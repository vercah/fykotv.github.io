<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FykoTV</title>

    <style>
        body {
            background-image: url("Vlajka_vert.png");
            background-size: 50%;
            overflow: hidden;
            background-position-y: 15%;
            background-position-x: 50%;
            background-color: #1175da;
            background-repeat: no-repeat;
        }
        .strip {
            background: white;
            position: fixed;
            top: 80%;
            width: 100%;
            height: 7%;
            font-size: 5rem;
            font-family: "Inter";
            display: flex;
            left: 0;
        }
        .time {
            background: black;
            color: white;
            padding: 0 1rem;
        }
        .text {
            flex-grow: 4;
            padding: 0 1rem;
            white-space: nowrap;
            overflow: hidden;
            box-sizing: border-box;
            vertical-align: center;
        }
        .text span {
            display: inline-block;
            padding-left: 100%;
            animation: marquee-horizontal 40s linear infinite;
        }
        .ucastnici {
            background: none;
            position: fixed;
            top: 8%;
            width: 26%;
            height: 65%;
            font-size: 2.5rem;
            color: white;
            left: 4%;
            overflow: hidden;
            border-style: double;
            border: #D20000;
            font-family: Inter;
        }
        .pravidla {
            background: none;
            position: fixed;
            top: 6%;
            width: 26%;
            height: 65%;
            font-size: 2.5rem;
            color: white;
            right: 4%;
            overflow: visible;
            display: inline-block;
            text-align: center;
            font-weight: bold;
            font-family: "Inter";
        }
        .pravidla content{
            font-weight: bold;
        }
        .pravidla span {
            display: block;
        }
        .pravidla p {
            animation: marquee-vertical 40s linear infinite;
        }

        .ucastnici table {
            table-layout: fixed;
            width: 100%;
            overflow: hidden;
            animation: marquee-vertical 40s linear infinite;
        }

        td+td {
            text-align: right;
        }
        @keyframes marquee-horizontal {
            0%   { transform: translate(0, 0); }
            100% { transform: translate(-100%, 0); }
        }

        @keyframes marquee-vertical {
            100%   { transform: translate(0, -100%); }
            0% { transform: translate(0, 0); }
        }

    </style>
</head>
<body>

    <div class="strip"><div class="time" id="time">15:36</div>
        <div class="text"><span id="content">
            Večer očekávejte oslavu narozenin Vůdce. &#8226;
            Řiďte se pravidly režimu. &#8226;
            Fykorejský trh prosperuje jako nikdy předtím. &#8226;
            Očekáváme excelentní výsledky výzkumu. &#8226;
            Dětinské spisy vyšinutých jedinců byly bez milosti zlikvidovány. &#8226;
            Všichni obyvatelé se těší z bezchybného stavu fykorejských aparatur a nejnovějšího vybavení. &#8226;
        </span></div>
    </div>

    <div class="ucastnici">
        <div class="text">
            <table>
                <colgroup>
                    <col style="text-align: right">
                </colgroup>
                <tr><td><strong>&nbsp;</strong></td><td><strong>&nbsp;</strong></td></tr>
                <tr><td><strong>&nbsp;</strong></td><td><strong>&nbsp;</strong></td></tr>
                <tr><td><strong>&nbsp;</strong></td><td><strong>&nbsp;</strong></td></tr>
                <tr><td><strong>&nbsp;</strong></td><td><strong>&nbsp;</strong></td></tr>
                <tr><td><strong>&nbsp;</strong></td><td><strong>&nbsp;</strong></td></tr>
                <tr><td style="font-size: 125%;"><strong>Pořadí osob</strong></td><td><strong>&nbsp;</strong></td></tr>
                <!-- stačí zkopírovat sloupec H tady: https://docs.google.com/spreadsheets/d/1_yNvOs2lF4YjvavvlAeLczFXQl1HrhLB2tRL5YfDaEY/edit#gid=215107670 -->
                <tr><td>Martin Zuzek</td><td>95</td></tr>
<tr><td>Jakub Radim Zbončák</td><td>91</td></tr>
<tr><td>Martin Kysela</td><td>86</td></tr>
<tr><td>Veronika Plevná</td><td>82</td></tr>
<tr><td>Lukáš Linhart</td><td>81</td></tr>
<tr><td>Anežka Čechová</td><td>79</td></tr>
<tr><td>Richard Materna</td><td>79</td></tr>
<tr><td>Pavel Provazník</td><td>75</td></tr>
<tr><td>Ludmila Šírová</td><td>73</td></tr>
<tr><td>Maxmilian Ladislav Skuda</td><td>70</td></tr>
<tr><td>David Bálek</td><td>68,5</td></tr>
<tr><td>Matouš Mišta</td><td>67</td></tr>
<tr><td>Daniela Karpíšková</td><td>62</td></tr>
<tr><td>David Škrob</td><td>62</td></tr>
<tr><td>Vojtěch Marek</td><td>62</td></tr>
<tr><td>Jan Lepič</td><td>59</td></tr>
<tr><td>Ivan Žemlička</td><td>58,5</td></tr>
<tr><td>Tereza Voltrová</td><td>55</td></tr>
<tr><td>Monika  Drexlerová</td><td>54</td></tr>
<tr><td>Ján Klír</td><td>53,5</td></tr>
<tr><td>Katarína Horská</td><td>51</td></tr>
<tr><td>Petr Brettschneider</td><td>49</td></tr>
<tr><td>Tereza Hochmanová</td><td>47</td></tr>
<tr><td>Vladimíra Jiříčková</td><td>46,5</td></tr>
<tr><td>Lukáš Létal</td><td>44</td></tr>
<tr><td>Daniel Čvrtečka</td><td>41</td></tr>
<tr><td>Matyáš Beran</td><td>40,5</td></tr>
<tr><td>Mikuláš Vlčan</td><td>40,5</td></tr>
<tr><td>Jaromír Potůček</td><td>35,5</td></tr>
<tr><td>Veronika Bartáková</td><td>31</td></tr>
<tr><td>Lucia Kleščová</td><td>31</td></tr>
<tr><td>Anna Vodáková</td><td>31</td></tr>
<tr><td>Jakub Savula</td><td>26</td></tr>
<tr><td>Tomáš Kubrický</td><td>23</td></tr>
<tr><td>Matej Karpáč</td><td>22</td></tr>
<tr><td>Vladimír Slanina</td><td>22</td></tr>
<tr><td>Jiří Vestfál</td><td>11</td></tr>
<tr><td>Pavla Šimová</td><td>8</td></tr>
<tr><td>Vojtěch Kubrycht</td><td>6</td></tr>
<tr><td>Michal Stroff</td><td>0</td></tr>
            </table>
        </div>
    </div>

    <div class="pravidla">
        <div class="content">
        <p>
            <h3>Pravidla stanovená samotným Vůdcem:</h3>
            <span>Zákaz sezení zády směrem k Velké podobizně Vůdce</span>
            <span>Povinnost vzít si každý den lék</span>
            <span>Povinnost účastnit se ranních vítání Vůdce</span>
            <span>Povinnost poděkovat při vyzvednutí požehnaného jídla</span>
            <span>Povinnost nosit odznak vědecké třídy</span>
            <span>Povinnost nosit svou identifikační kartu stále u sebe</span>
            <span>Právo předbíhat osoby s nižším kreditním skóre</span>
            <span>Zákaz nošení bot s rozvázanými tkaničkami</span>
            <span>Zákaz vyznávání Annatara</span>
        </p>
    </div>
    </div>
</body>
<script type="text/javascript">
    const updateTime = () => {
        const date = new Date();
        const shift = new Date();
        var showdate = new Date();
        // na obrazovce se zobrazuje reálný čas mínus shift
        shift.setHours(0);
        shift.setMinutes(0);
        showdate.setHours(date.getHours()-shift.getHours());
        showdate.setMinutes(date.getMinutes()-shift.getMinutes());
        document.getElementById('time').innerHTML = showdate.getHours() + ":" + String(showdate.getMinutes()).padStart(2, "0");

    }
    setInterval(updateTime, 5000);
    updateTime();

    const updateFromServer = async () => {
        const response = await fetch('https://fykos.cz/rocnik36/sous-podzim/tv');
        const doc = new DOMParser().parseFromString(await response.text(), 'text/html');
        [...doc.querySelectorAll("#dokuwiki__content li")].map(el => el.textContent);
        const content = Object.values(text).join(' &#8226; ');
        document.getElementById('content').innerHTML = content;
        document.getElementById('content').style.animation = 'marquee ' + content.length/10 + 's linear infinite';
    }

    setInterval(updateFromServer, 1000);
    updateFromServer();
</script>
</html>
